<div class="employee-list-container card">
  <div class="row mb-3 card-body">
    <div class="col-5">
      <h2>Employee List</h2>
    </div>
    <div class="col" style="text-align: right">
      <button class="btn btn-success" (click)="onAddData()">Add Data</button>
    </div>
    <div class="row">
      <div class="col-md-5">
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Search by User Name</mat-label>
          <input
            matInput
            [(ngModel)]="filter.username"
            placeholder="Search employees"
          />
        </mat-form-field>
      </div>
      <div class="col-md-5">
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Search by Email</mat-label>
          <input
            matInput
            [(ngModel)]="filter.email"
            placeholder="Search employees"
          />
        </mat-form-field>
      </div>
      <div class="col-md-2">
        <button
          (click)="applyFilter()"
          type="button"
          class="btn btn-primary m-2"
        >
          filter
        </button>
        <button
          (click)="filter = {}; applyFilter()"
          type="button"
          class="btn btn-danger m-2"
        >
          clear
        </button>
      </div>
    </div>
    <div class="table-responsive">
      <table
      mat-table
      *ngIf="!isLoading; else loadingTemplate"
      [dataSource]="dataSource"
      matSort
      class="table table-striped"
    >
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
      </ng-container>

      <!-- Username Column -->
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>User Name</th>
        <td mat-cell *matCellDef="let element">{{ element.username }}</td>
      </ng-container>

      <!-- Firstname Column -->
      <ng-container matColumnDef="firstname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Firstname</th>
        <td mat-cell *matCellDef="let element">{{ element.firstname }}</td>
      </ng-container>

      <!-- Lastname Column -->
      <ng-container matColumnDef="lastname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Lastname</th>
        <td mat-cell *matCellDef="let element">{{ element.lastname }}</td>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
        <td mat-cell *matCellDef="let element">{{ element.email }}</td>
      </ng-container>

      <!-- Birthdate Column -->
      <ng-container matColumnDef="birthdate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Birthdate</th>
        <td mat-cell *matCellDef="let element">{{ element.birthdate }}</td>
      </ng-container>

      <!-- Basic Salary Column -->
      <ng-container matColumnDef="basicsalary">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Basic Salary</th>
        <td mat-cell *matCellDef="let element">{{ element.basicsalary }}</td>
      </ng-container>

      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
        <td mat-cell *matCellDef="let element">{{ element.status }}</td>
      </ng-container>

      <!-- Group Column -->
      <ng-container matColumnDef="group">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Group</th>
        <td mat-cell *matCellDef="let element">{{ element.group }}</td>
      </ng-container>

      <!-- Description Column -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
        <td mat-cell *matCellDef="let element">{{ element.description }}</td>
      </ng-container>
      <!-- Action Column -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let element">
          <div class="row">
            <div class="col-sm-12 col-md-4 col-lg-3 col-12 mb-2">
              <button
                class="btn btn-warning"
                style="font-size: 11px"
                (click)="editEmployee(element)"
              >
                Edit
              </button>
            </div>
            <div class="col-sm-12 col-md-4 col-lg-3 col-12 mb-2">
              <button
                class="btn btn-primary"
                style="font-size: 11px"
                (click)="detailEmployee(element)"
              >
                Detail
              </button>
            </div>
            <div class="col-sm-12 col-md-4 col-lg-3 col-12 mb-2">
              <button
                class="btn btn-danger"
                style="font-size: 11px"
                (click)="deleteEmployee(element)"
              >
                Delete
              </button>
            </div>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    </div>
   
  </div>
  <ng-template #loadingTemplate>
    <div class="text-center">
      <mat-spinner></mat-spinner>
      <p>Loading data, please wait...</p>
    </div>
  </ng-template>

  <mat-paginator
    [pageSize]="10"
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
  ></mat-paginator>
</div>
