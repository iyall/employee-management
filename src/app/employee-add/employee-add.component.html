<div class="card">
  <div class="container mt-4 mb-4 card-body">
    <h2 class="text-center mb-4">Add New Employee</h2>
    <form (ngSubmit)="createEmployee()" #employeeForm="ngForm">
      <div class="row">
        <div class="col-sm-6 col-md-6 col-lg-6 col-12 mt-2 form-group">
          <label for="username">Username</label>
          <input
            type="text"
            id="username"
            class="form-control"
            [(ngModel)]="employee.username"
            name="username"
            required
            #username="ngModel"
          />
          <div *ngIf="username.invalid && username.touched" class="text-danger">
            Please enter a valid user name.
          </div>
        </div>
        <div class="col-sm-6 col-md-6 col-lg-6 col-12 mt-2 form-group">
          <label for="firstname">Firstname</label>
          <input
            type="text"
            id="firstname"
            class="form-control"
            [(ngModel)]="employee.firstname"
            name="firstname"
            #firstname="ngModel"
            required
          />
          <div *ngIf="firstname.invalid && firstname.touched" class="text-danger">
            Please enter a valid first name.
          </div>
        </div>
        <div class="col-sm-6 col-md-6 col-lg-6 col-12 mt-2 form-group">
          <label for="lastname">Lastname</label>
          <input
            type="text"
            id="lastname"
            class="form-control"
            [(ngModel)]="employee.lastname"
            name="lastname"
            #lastname="ngModel"
            required
          />
          <div *ngIf="lastname.invalid && lastname.touched" class="text-danger">
            Please enter a valid last name.
          </div>
        </div>
        <div class="col-sm-6 col-md-6 col-lg-6 col-12 mt-2 form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            class="form-control"
            [(ngModel)]="employee.email"
            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
            name="email"
            #email="ngModel"
            required
          />
          <div *ngIf="email.invalid && email.touched" class="text-danger">
            Please enter a valid email address.
          </div>
        </div>
        <div class="col-sm-6 col-md-6 col-lg-6 col-12 mt-2 form-group">
          <label for="birthdate">Birthdate</label>
          <input
            type="date"
            id="birthdate"
            class="form-control"
            [(ngModel)]="employee.birthdate"
            name="birthdate"
            max="{{ today | date:'yyyy-MM-dd' }}"
            #birthdate="ngModel"
            required
          />
          <div *ngIf="birthdate.invalid && birthdate.touched" class="text-danger">
            Please enter a valid birth date.
          </div>
        </div>
        <div class="col-sm-6 col-md-6 col-lg-6 col-12 mt-2 form-group">
          <label for="basicsalary">Basic Salary</label>
          <input
            type="text"
            id="basicsalary"
            class="form-control"
            [(ngModel)]="employee.basicsalary"
            pattern="^[1-9]\d*(\.\d+)?$"
            name="basicsalary"
            autocomplete="off"
            currencyMask [options]="optionCurrency"
            #basicsalary="ngModel"
            required
            
          />
          <div *ngIf="basicsalary.invalid && basicsalary.touched" class="text-danger">
            Please enter a valid basic salary.
          </div>
        </div>
        
        <div class="col-sm-6 col-md-6 col-lg-6 col-12 mt-2 form-group">
          <label for="status">Status</label>
          <select
            id="status"
            class="form-control"
            [(ngModel)]="employee.status"
            name="status"
            required
          >
            <option value="Active">Active</option>
            <option value="Inactive">Inactive</option>
          </select>
        </div>
        <div class="col-sm-6 col-md-6 col-lg-6 col-12 mt-2 form-group">
          <label for="group">Group</label>
          <!-- <input
            type="text"
            id="group"
            class="form-control"
            [(ngModel)]="employee.group"
            name="group"
            required
          /> -->
          <search-dropdown 
            [items]="items" 
            [size]="'small'" 
            [label]="'name'" 
            [uid]="'id'" 
            name="group"
            [(ngModel)]="employee.group" required>
          </search-dropdown>
          <div *ngIf="!employee.group || employee.group===''" class="text-danger">
            Please enter a valid group.
          </div>
        </div>
        
        
        <div class="col-sm-6 col-md-6 col-lg-6 col-12 mt-2 form-group">
          <label for="description">Description</label>
          <textarea
            id="description"
            class="form-control"
            [(ngModel)]="employee.description"
            name="description"
            required
          ></textarea>
        </div>
      </div>
      
      <div class="row">
          <div class="col" style="text-align: right;">
              <button class="btn btn-danger m-3" (click)="onBack()">
                  Kembali
              </button>
              <button type="submit" class="btn btn-primary m-3" [disabled]="!employeeForm.valid || !employee.group || employee.group===''">
                  Create Employee
                </button>
          </div>
      </div>
    </form>
  </div>
</div>

